{"version":3,"sources":["../../src/pages/pet-details/pet-details.module.ts","../../src/pages/pet-details/pet-details.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PetDetails } from './pet-details';\n\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    PetDetails,\n  ],\n  imports: [\n    IonicPageModule.forChild(PetDetails),\n    PipesModule\n  ],\n  exports: [\n    PetDetails\n  ]\n})\nexport class PetDetailsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pet-details/pet-details.module.ts","import { Component } from '@angular/core';\nimport { AlertController, IonicPage, ModalController, NavController, NavParams } from 'ionic-angular';\nimport { GalleryModal } from 'ionic-gallery-modal';\n\nimport { ModalSponsorPet } from '../modal-sponsor-pet/modal-sponsor-pet';\nimport { ModalAskAboutPet } from '../modal-ask-about-pet/modal-ask-about-pet';\nimport { UserData } from '../../providers/user-data';\n\n@IonicPage()\n@Component({\n  selector: 'page-pet-details',\n  templateUrl: 'pet-details.html',\n})\nexport class PetDetails {\n  pet: any;\n  private photos: any[] = [];\n  private gallery: any[] = [];\n  favoriteIcon: boolean;\n\n  constructor(\n    public alertCtrl: AlertController,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public modalCtrl: ModalController,\n    public user: UserData,\n  ) {\n      this.pet = this.navParams.get('pet');\n      this.photos = this.pet.media.photos.photo;\n      this.createPhotos();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PetDetails');\n    this.favoriteIcon = this.user.hasFavorite(this.pet)\n  }\n\n  private createPhotos() {\n    for (let item of this.photos) {\n      if(item['@size'] == 'x') {\n        this.gallery.push({\n          url: item['$t']\n        });\n      }\n    }\n  }\n\n  private openGallery() {\n    let modal = this.modalCtrl.create(GalleryModal, {\n      photos: this.gallery,\n      initialSlide: 0\n    });\n    modal.present();\n  }\n\n  private sponsorMe() {\n    let modal = this.modalCtrl.create(ModalSponsorPet);\n    modal.present();\n  }\n\n  private askAboutMe() {\n    let modal = this.modalCtrl.create(ModalAskAboutPet);\n    modal.onDidDismiss(data => {\n      console.log(data);\n    });\n    modal.present();\n  }\n\n  addFavorite(pet: any) {\n\n    if (this.user.hasFavorite(pet)) {\n      // woops, they already favorited it! What shall we do!?\n      // prompt them to remove it\n      this.removeFavorite(pet, 'Favorite already added');\n    } else {\n      // remember this session as a user favorite\n      this.user.addFavorite(pet);\n      this.favoriteIcon = true;\n\n      // create an alert instance\n      let alert = this.alertCtrl.create({\n        title: 'Favorite Added',\n        buttons: [{\n          text: 'OK',\n          handler: () => {\n            // close the sliding item\n            //slidingItem.close();\n          }\n        }]\n      });\n      // now present the alert on top of all other content\n      alert.present();\n    }\n  }\n\n  removeFavorite(pet: any, title: string) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      message: 'Would you like to remove this pet from your favorites?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            // they clicked the cancel button, do not remove the session\n            // close the sliding item and hide the option buttons\n          }\n        },\n        {\n          text: 'Remove',\n          handler: () => {\n            // they want to remove this session from their favorites\n            this.user.removeFavorite(pet);\n            this.favoriteIcon = false;\n            // close the sliding item and hide the option buttons\n            //slidingItem.close();\n          }\n        }\n      ]\n    });\n    // now present the alert on top of all other content\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pet-details/pet-details.ts"],"sourceRoot":""}